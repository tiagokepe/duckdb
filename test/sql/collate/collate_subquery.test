# name: test/sql/collate/collate_subquery.test
# description: Test collate statement over a subquery
# group: [collate]

require ICU

statement ok
PRAGMA enable_verification

statement ok
create table t0(c1 varchar);

statement ok
insert into t0 values ('XXX');

query I
select (select c1 from t0) collate nocase;
----
XXX

query I
select (select c1 from t0) collate nocase='xxx';
----
true


query I
SELECT (select c1 COLLATE DE FROM t0) AS y FROM t0 GROUP BY y
----
XXX

query II
SELECT any_value(c1) AS c1, (select c1 COLLATE NOCASE FROM t0) AS y FROM t0 GROUP BY y
----
XXX	XXX
